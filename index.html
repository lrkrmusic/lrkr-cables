<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LRKR Cables | Handmade Instrument Cables</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'DM Sans', system-ui, sans-serif;
      background: #1a1a1a;
      color: #fff;
      line-height: 1.6;
    }

    /* Navigation */
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 48px;
      background: #1a1a1a;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .logo {
      font-size: 14px;
      font-weight: 700;
      letter-spacing: 3px;
    }

    .logo span {
      color: #c9a227;
    }

    .nav-links {
      display: flex;
      gap: 32px;
      align-items: center;
    }

    .nav-links a {
      color: #888;
      text-decoration: none;
      font-size: 14px;
      transition: color 0.2s;
    }

    .nav-links a:hover {
      color: #fff;
    }

    .nav-links a.music-link .arrow {
      color: #c9a227;
    }

    .cart-btn {
      background: none;
      border: none;
      color: #888;
      font-size: 14px;
      cursor: pointer;
      font-family: inherit;
      display: none;
    }

    .cart-btn.has-items {
      display: block;
      color: #c9a227;
    }

    /* Hero Section */
    .hero {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 48px;
      padding: 24px 48px 12px;
      min-height: 50vh;
      align-items: center;
    }

    .hero-content {
      max-width: 500px;
    }

    .badge {
      display: inline-block;
      font-size: 11px;
      letter-spacing: 2px;
      color: #c9a227;
      margin-bottom: 16px;
      text-transform: uppercase;
    }

    h1 {
      font-size: 48px;
      font-weight: 700;
      line-height: 1.1;
      margin-bottom: 16px;
    }

    .subhead {
      color: #888;
      font-size: 18px;
      margin-bottom: 32px;
    }

    .hero-image {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .hero-image img {
      max-width: 100%;
      max-height: 450px;
      object-fit: contain;
      border-radius: 24px;
      border: 1px solid #1a1a1a;
      outline: 1px solid #c9a227;
      box-shadow: 0 4px 20px rgba(201, 162, 39, 0.08);
    }

    .cable-visual {
      width: 100%;
      max-width: 400px;
      aspect-ratio: 1;
      background: #252525;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #333;
    }

    /* Products Section */
    .products {
      padding: 12px 48px 48px;
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
      margin-bottom: 24px;
    }

    .product-card {
      background: #252525;
      border-radius: 12px;
      padding: 24px;
      cursor: pointer;
      transition: all 0.2s;
      border: 2px solid transparent;
      position: relative;
    }

    .product-card:hover {
      background: #2a2a2a;
    }

    .product-card.selected {
      border-color: #c9a227;
      background: #2a2a2a;
    }

    .product-card.popular::before {
      content: 'Most Popular';
      position: absolute;
      top: -10px;
      left: 50%;
      transform: translateX(-50%);
      background: #c9a227;
      color: #000;
      font-size: 10px;
      font-weight: 700;
      padding: 4px 12px;
      border-radius: 20px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .product-length {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .product-use {
      font-size: 12px;
      color: #666;
      margin-bottom: 12px;
    }

    .product-price {
      font-size: 24px;
      color: #c9a227;
      font-weight: 500;
    }

    /* Buttons */
    .button-group {
      display: flex;
      gap: 12px;
      margin-bottom: 24px;
    }

    .btn {
      padding: 16px 32px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      font-family: inherit;
      border: none;
    }

    .btn-primary {
      background: #c9a227;
      color: #000;
      flex: 1;
    }

    .btn-primary:hover {
      background: #d4af37;
    }

    .btn-secondary {
      background: #333;
      color: #fff;
      flex: 1;
    }

    .btn-secondary:hover {
      background: #444;
    }

    .shipping-note {
      font-size: 13px;
      color: #666;
    }

    /* Specs Section */
    .specs {
      padding: 64px 48px;
      background: #151515;
    }

    .specs h2 {
      font-size: 14px;
      letter-spacing: 2px;
      color: #666;
      margin-bottom: 32px;
      text-transform: uppercase;
    }

    .specs-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 32px;
    }

    .spec-item {
      border-left: 1px solid #333;
      padding-left: 16px;
    }

    .spec-label {
      font-size: 12px;
      color: #666;
      margin-bottom: 4px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .spec-value {
      font-size: 14px;
      color: #fff;
    }

    /* Features Section */
    .features {
      padding: 64px 48px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 32px;
    }

    .feature {
      text-align: center;
      padding: 32px;
    }

    .feature-icon {
      font-size: 24px;
      margin-bottom: 16px;
      color: #c9a227;
    }

    .feature h3 {
      font-size: 18px;
      margin-bottom: 8px;
    }

    .feature p {
      font-size: 14px;
      color: #888;
    }

    /* Footer */
    footer {
      padding: 48px;
      border-top: 1px solid #333;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .footer-brand {
      font-size: 18px;
      font-weight: 700;
    }

    .footer-tagline {
      font-size: 13px;
      color: #666;
      margin-top: 4px;
    }

    .footer-links {
      display: flex;
      gap: 24px;
    }

    .footer-links a {
      color: #666;
      text-decoration: none;
      font-size: 13px;
    }

    .footer-links a:hover {
      color: #fff;
    }

    .copyright {
      font-size: 12px;
      color: #444;
    }

    /* Cart Drawer */
    .cart-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.7);
      z-index: 200;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s;
    }

    .cart-overlay.open {
      opacity: 1;
      visibility: visible;
    }

    .cart-drawer {
      position: fixed;
      top: 0;
      right: -400px;
      width: 400px;
      max-width: 100vw;
      height: 100vh;
      background: #1a1a1a;
      z-index: 201;
      transition: right 0.3s ease;
      display: flex;
      flex-direction: column;
      border-left: 1px solid #333;
    }

    .cart-drawer.open {
      right: 0;
    }

    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 24px;
      border-bottom: 1px solid #333;
    }

    .cart-header h3 {
      font-size: 18px;
      font-weight: 600;
    }

    .cart-close {
      background: none;
      border: none;
      color: #888;
      font-size: 24px;
      cursor: pointer;
      line-height: 1;
    }

    .cart-close:hover {
      color: #fff;
    }

    .cart-items {
      flex: 1;
      overflow-y: auto;
      padding: 24px;
    }

    .cart-empty {
      color: #666;
      text-align: center;
      padding: 48px 0;
    }

    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 0;
      border-bottom: 1px solid #333;
    }

    .cart-item-info h4 {
      font-size: 14px;
      margin-bottom: 4px;
    }

    .cart-item-info .price {
      color: #c9a227;
      font-size: 14px;
    }

    .cart-item-controls {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .qty-btn {
      width: 28px;
      height: 28px;
      background: #333;
      border: none;
      border-radius: 4px;
      color: #fff;
      cursor: pointer;
      font-size: 16px;
    }

    .qty-btn:hover {
      background: #444;
    }

    .cart-item-qty {
      font-size: 14px;
      min-width: 20px;
      text-align: center;
    }

    .cart-item-remove {
      background: none;
      border: none;
      color: #666;
      cursor: pointer;
      font-size: 18px;
      padding: 4px;
    }

    .cart-item-remove:hover {
      color: #ff4444;
    }

    .cart-footer {
      padding: 24px;
      border-top: 1px solid #333;
    }

    .cart-total {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      font-size: 18px;
    }

    .cart-total .amount {
      color: #c9a227;
      font-weight: 600;
    }

    .cart-checkout {
      width: 100%;
      padding: 16px;
      background: #c9a227;
      color: #000;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      font-family: inherit;
    }

    .cart-checkout:hover {
      background: #d4af37;
    }

    .cart-checkout:disabled {
      background: #333;
      color: #666;
      cursor: not-allowed;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .hero {
        grid-template-columns: 1fr;
        text-align: center;
      }

      .hero-content {
        max-width: 100%;
      }

      .hero-image {
        order: -1;
      }

      .product-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .specs-grid {
        grid-template-columns: repeat(3, 1fr);
      }

      .features {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 640px) {
      nav {
        padding: 16px 24px;
      }

      .hero {
        padding: 24px 24px 12px;
      }

      h1 {
        font-size: 32px;
      }

      .products {
        padding: 12px 24px 48px;
      }

      .product-grid {
        grid-template-columns: 1fr 1fr;
      }

      .specs {
        padding: 48px 24px;
      }

      .specs-grid {
        grid-template-columns: 1fr 1fr;
      }

      .features {
        padding: 48px 24px;
      }

      footer {
        flex-direction: column;
        gap: 24px;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <nav>
    <div class="logo">LRKR<span>CABLES</span></div>
    <div class="nav-links">
      <a href="#specs">Specs</a>
      <a href="https://open.spotify.com/artist/0yTK74zLEsMyrdVPjw3Zqi" target="_blank" class="music-link">Music <span class="arrow">↗</span></a>
      <button class="cart-btn" id="cartBtn">Cart (<span id="cartCount">0</span>)</button>
    </div>
  </nav>

  <section class="hero">
    <div class="hero-content">
      <div class="badge">Handmade in St. Louis</div>
      <h1>Super Noiseless Instrument Cable</h1>
      <p class="subhead">Premium shielded cable. Neutrik gold connectors. Built by a musician, for musicians.</p>
    </div>
    <div class="hero-image">
      <img src="" alt="LRKR Cables - Premium Instrument Cable" id="heroImage" style="opacity: 0; transition: opacity 0.3s;">
    </div>
  </section>

  <section class="products">
    <div class="product-grid" id="productGrid">
      <!-- Products render here -->
    </div>
    <div class="button-group">
      <button class="btn btn-primary" id="buyNowBtn">Buy Now — $79</button>
      <button class="btn btn-secondary" id="addToCartBtn">Add to Cart</button>
    </div>
    <p class="shipping-note">Free shipping on orders over $50 • Ships within 48 hours</p>
  </section>

  <section class="specs" id="specs">
    <h2>Specifications</h2>
    <div class="specs-grid">
      <div class="spec-item">
        <div class="spec-label">Cable</div>
        <div class="spec-value">EWI PCS-2560 Premium Braided Shield</div>
      </div>
      <div class="spec-item">
        <div class="spec-label">Gauge</div>
        <div class="spec-value">18 AWG</div>
      </div>
      <div class="spec-item">
        <div class="spec-label">Connectors</div>
        <div class="spec-value">Neutrik NP2X Gold 1/4" TS</div>
      </div>
      <div class="spec-item">
        <div class="spec-label">Origin</div>
        <div class="spec-value">Handmade in St. Louis</div>
      </div>
      <div class="spec-item">
        <div class="spec-label">Warranty</div>
        <div class="spec-value">Lifetime</div>
      </div>
    </div>
  </section>

  <section class="features">
    <div class="feature">
      <div class="feature-icon">◈</div>
      <h3>Noise-Free Signal</h3>
      <p>Braided shield construction eliminates interference and hum.</p>
    </div>
    <div class="feature">
      <div class="feature-icon">◈</div>
      <h3>Gold-Plated Contacts</h3>
      <p>Neutrik connectors for reliable, low-resistance connections.</p>
    </div>
    <div class="feature">
      <div class="feature-icon">◈</div>
      <h3>Built to Last</h3>
      <p>18 AWG conductors and reinforced strain relief.</p>
    </div>
  </section>

  <footer>
    <div>
      <div class="footer-brand">LRKR</div>
      <div class="footer-tagline">Musician. Engineer. Builder.</div>
    </div>
    <div class="footer-links">
      <a href="mailto:contact@lrkrmusic.com">Contact</a>
      <a href="#">Warranty</a>
      <a href="#">Returns</a>
    </div>
    <div class="copyright">© 2025 LRKR. All rights reserved.</div>
  </footer>

  <!-- Cart Drawer -->
  <div class="cart-overlay" id="cartOverlay"></div>
  <div class="cart-drawer" id="cartDrawer">
    <div class="cart-header">
      <h3>Your Cart</h3>
      <button class="cart-close" id="cartClose">✕</button>
    </div>
    <div class="cart-items" id="cartItems">
      <p class="cart-empty">Your cart is empty</p>
    </div>
    <div class="cart-footer">
      <div class="cart-total">
        <span>Total</span>
        <span class="amount" id="cartTotal">$0</span>
      </div>
      <button class="cart-checkout" id="checkoutBtn" disabled>Checkout</button>
    </div>
  </div>

  <script>
    // Shopify Configuration
    const SHOPIFY_CONFIG = {
      domain: 'lrkrmusic.myshopify.com',
      storefrontToken: '9d42e988b2f50aff9f228737a1daa5a1',
    };

    const VARIANT_IDS = {
      '10ft': 'gid://shopify/ProductVariant/52962765701427',
      '15ft': 'gid://shopify/ProductVariant/52962765734195',
      '20ft': 'gid://shopify/ProductVariant/52962765766963',
      '25ft': 'gid://shopify/ProductVariant/52965287657779',
    };

    // Products
    const products = [
      { length: '10ft', price: 69, use: 'Home & studio', popular: false },
      { length: '15ft', price: 79, use: 'All-purpose', popular: true },
      { length: '20ft', price: 89, use: 'Stage standard', popular: false },
      { length: '25ft', price: 99, use: 'Maximum freedom', popular: false },
    ];

    let selectedProduct = products[1]; // Default to 15ft
    let cart = [];

    // Render products
    function renderProducts() {
      const grid = document.getElementById('productGrid');
      grid.innerHTML = products.map(p => `
        <div class="product-card ${p.popular ? 'popular' : ''} ${p.length === selectedProduct.length ? 'selected' : ''}" 
             data-length="${p.length}">
          <div class="product-length">${p.length}</div>
          <div class="product-use">${p.use}</div>
          <div class="product-price">$${p.price}</div>
        </div>
      `).join('');

      // Add click handlers
      grid.querySelectorAll('.product-card').forEach(card => {
        card.addEventListener('click', () => {
          selectedProduct = products.find(p => p.length === card.dataset.length);
          renderProducts();
          updateBuyButton();
        });
      });
    }

    function updateBuyButton() {
      document.getElementById('buyNowBtn').textContent = `Buy Now — $${selectedProduct.price}`;
    }

    // Cart functions
    function addToCart(product) {
      const existing = cart.find(item => item.length === product.length);
      if (existing) {
        existing.qty += 1;
      } else {
        cart.push({ ...product, qty: 1 });
      }
      updateCart();
      openCart();
    }

    function removeFromCart(length) {
      cart = cart.filter(item => item.length !== length);
      updateCart();
    }

    function updateQty(length, delta) {
      const item = cart.find(i => i.length === length);
      if (item) {
        item.qty += delta;
        if (item.qty <= 0) {
          removeFromCart(length);
        } else {
          updateCart();
        }
      }
    }

    function updateCart() {
      const cartBtn = document.getElementById('cartBtn');
      const cartCount = document.getElementById('cartCount');
      const cartItems = document.getElementById('cartItems');
      const cartTotal = document.getElementById('cartTotal');
      const checkoutBtn = document.getElementById('checkoutBtn');

      const totalItems = cart.reduce((sum, item) => sum + item.qty, 0);
      const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);

      cartCount.textContent = totalItems;
      cartBtn.classList.toggle('has-items', totalItems > 0);

      if (cart.length === 0) {
        cartItems.innerHTML = '<p class="cart-empty">Your cart is empty</p>';
        checkoutBtn.disabled = true;
      } else {
        cartItems.innerHTML = cart.map(item => `
          <div class="cart-item">
            <div class="cart-item-info">
              <h4>Super Noiseless Cable - ${item.length}</h4>
              <div class="price">$${item.price}</div>
            </div>
            <div class="cart-item-controls">
              <button class="qty-btn" onclick="updateQty('${item.length}', -1)">−</button>
              <span class="cart-item-qty">${item.qty}</span>
              <button class="qty-btn" onclick="updateQty('${item.length}', 1)">+</button>
              <button class="cart-item-remove" onclick="removeFromCart('${item.length}')">✕</button>
            </div>
          </div>
        `).join('');
        checkoutBtn.disabled = false;
      }

      cartTotal.textContent = `$${totalPrice}`;
    }

    function openCart() {
      document.getElementById('cartOverlay').classList.add('open');
      document.getElementById('cartDrawer').classList.add('open');
    }

    function closeCart() {
      document.getElementById('cartOverlay').classList.remove('open');
      document.getElementById('cartDrawer').classList.remove('open');
    }

    // Shopify Checkout
    async function createCheckout(items) {
      const lines = items.map(item => ({
        merchandiseId: VARIANT_IDS[item.length],
        quantity: item.qty
      }));

      const query = `
        mutation cartCreate($input: CartInput!) {
          cartCreate(input: $input) {
            cart {
              checkoutUrl
            }
            userErrors {
              field
              message
            }
          }
        }
      `;

      try {
        const response = await fetch(`https://${SHOPIFY_CONFIG.domain}/api/2024-01/graphql.json`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'X-Shopify-Storefront-Access-Token': SHOPIFY_CONFIG.storefrontToken,
          },
          body: JSON.stringify({
            query,
            variables: {
              input: { lines }
            }
          })
        });

        const data = await response.json();
        
        if (data.data?.cartCreate?.cart?.checkoutUrl) {
          window.location.href = data.data.cartCreate.cart.checkoutUrl;
        } else {
          console.error('Checkout error:', data);
          alert('Error creating checkout. Please try again.');
        }
      } catch (error) {
        console.error('Checkout error:', error);
        alert('Error creating checkout. Please try again.');
      }
    }

    // Event listeners
    document.getElementById('buyNowBtn').addEventListener('click', () => {
      createCheckout([{ ...selectedProduct, qty: 1 }]);
    });

    document.getElementById('addToCartBtn').addEventListener('click', () => {
      addToCart(selectedProduct);
    });

    document.getElementById('cartBtn').addEventListener('click', openCart);
    document.getElementById('cartClose').addEventListener('click', closeCart);
    document.getElementById('cartOverlay').addEventListener('click', closeCart);
    document.getElementById('checkoutBtn').addEventListener('click', () => {
      createCheckout(cart);
    });

    // Initialize
    renderProducts();
    updateBuyButton();
    updateCart();
    
    // Fetch product image from Shopify
    async function fetchProductImage() {
      const query = `
        {
          product(id: "gid://shopify/Product/10057307619635") {
            featuredImage {
              url
            }
          }
        }
      `;

      try {
        const response = await fetch(`https://${SHOPIFY_CONFIG.domain}/api/2024-01/graphql.json`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'X-Shopify-Storefront-Access-Token': SHOPIFY_CONFIG.storefrontToken,
          },
          body: JSON.stringify({ query })
        });

        const data = await response.json();
        const imageUrl = data.data?.product?.featuredImage?.url;
        
        if (imageUrl) {
          const heroImg = document.getElementById('heroImage');
          heroImg.src = imageUrl;
          heroImg.onload = () => { heroImg.style.opacity = '1'; };
        }
      } catch (error) {
        console.error('Error fetching product image:', error);
      }
    }
    
    fetchProductImage();
  </script>
</body>
</html>
